/**
 * Inline SVG content for note hero images as data URLs.
 * Used so note heroes load without any network request (avoids route/static file issues).
 */

const TOKEN_REFRESH_SVG = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 840 360" fill="none"><defs><linearGradient id="tg1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#0a0a0a"/><stop offset="100%" stop-color="#171717"/></linearGradient><linearGradient id="tg2" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#262626" stop-opacity="0.6"/><stop offset="100%" stop-color="#0a0a0a"/></linearGradient></defs><rect width="840" height="360" fill="url(#tg1)"/><rect x="24" y="24" width="792" height="312" rx="12" fill="#171717" stroke="#262626" stroke-width="1"/><text x="48" y="72" font-family="system-ui,sans-serif" font-size="14" font-weight="600" fill="#a3a3a3">TOKEN REFRESH</text><text x="48" y="110" font-family="system-ui,sans-serif" font-size="20" font-weight="600" fill="white">Single-flight guard · Retry · Keystore</text><rect x="48" y="132" width="140" height="6" rx="3" fill="#262626"/><rect x="48" y="146" width="220" height="6" rx="3" fill="#262626"/><rect x="48" y="160" width="180" height="6" rx="3" fill="#262626"/><rect x="48" y="180" width="320" height="80" rx="8" fill="#0a0a0a" stroke="#262626" stroke-width="1"/><circle cx="700" cy="220" r="52" fill="none" stroke="#404040" stroke-width="2" stroke-dasharray="5 5"/><path d="M700 168 v26 l20 20" stroke="#737373" stroke-width="2" stroke-linecap="round" fill="none"/><text x="700" y="290" font-family="system-ui,sans-serif" font-size="11" fill="#737373" text-anchor="middle">SessionManager</text><rect x="0" y="280" width="840" height="80" fill="url(#tg2)"/></svg>`

const OFFLINE_SYNC_SVG = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 840 360" fill="none"><defs><linearGradient id="og1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#0a0a0a"/><stop offset="100%" stop-color="#171717"/></linearGradient><linearGradient id="og2" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#262626" stop-opacity="0.5"/><stop offset="100%" stop-color="#0a0a0a"/></linearGradient></defs><rect width="840" height="360" fill="url(#og1)"/><rect x="24" y="24" width="792" height="312" rx="12" fill="#171717" stroke="#262626" stroke-width="1"/><text x="48" y="72" font-family="system-ui,sans-serif" font-size="14" font-weight="600" fill="#a3a3a3">OFFLINE-FIRST SYNC</text><text x="48" y="110" font-family="system-ui,sans-serif" font-size="20" font-weight="600" fill="white">Room · State machine · Conflict rules</text><rect x="48" y="136" width="100" height="36" rx="8" fill="#262626"/><text x="98" y="160" font-family="system-ui,sans-serif" font-size="12" fill="#a3a3a3" text-anchor="middle">idle</text><rect x="168" y="136" width="100" height="36" rx="8" fill="#262626" stroke="#404040" stroke-width="1"/><text x="218" y="160" font-family="system-ui,sans-serif" font-size="12" fill="#a3a3a3" text-anchor="middle">syncing</text><rect x="288" y="136" width="100" height="36" rx="8" fill="#262626"/><text x="338" y="160" font-family="system-ui,sans-serif" font-size="12" fill="#a3a3a3" text-anchor="middle">error</text><path d="M48 200 L340 200" stroke="#404040" stroke-width="1" stroke-dasharray="6 4"/><text x="48" y="248" font-family="system-ui,sans-serif" font-size="12" fill="#737373">Local DB · Sync worker · Idempotency</text><rect x="0" y="280" width="840" height="80" fill="url(#og2)"/></svg>`

const PERFORMANCE_BUDGETS_SVG = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 840 360" fill="none"><defs><linearGradient id="pb1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#0a0a0a"/><stop offset="100%" stop-color="#171717"/></linearGradient><linearGradient id="pb2" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#262626" stop-opacity="0.5"/><stop offset="100%" stop-color="#0a0a0a"/></linearGradient></defs><rect width="840" height="360" fill="url(#pb1)"/><rect x="24" y="24" width="792" height="312" rx="12" fill="#171717" stroke="#262626" stroke-width="1"/><text x="48" y="72" font-family="system-ui,sans-serif" font-size="14" font-weight="600" fill="#a3a3a3">PERFORMANCE BUDGETS</text><text x="48" y="110" font-family="system-ui,sans-serif" font-size="20" font-weight="600" fill="white">Cold start · ANR · CI gates</text><rect x="48" y="132" width="200" height="28" rx="6" fill="#262626"/><text x="148" y="151" font-family="system-ui,sans-serif" font-size="12" fill="#a3a3a3" text-anchor="middle">Cold start &lt; 2s</text><rect x="48" y="168" width="200" height="28" rx="6" fill="#262626"/><text x="148" y="187" font-family="system-ui,sans-serif" font-size="12" fill="#a3a3a3" text-anchor="middle">ANR &lt; 0.1%</text><rect x="48" y="204" width="200" height="28" rx="6" fill="#262626"/><text x="148" y="223" font-family="system-ui,sans-serif" font-size="12" fill="#a3a3a3" text-anchor="middle">Crash-free SLO</text><polygon points="300,200 340,160 380,200 340,240" fill="none" stroke="#404040" stroke-width="1.5"/><text x="340" y="270" font-family="system-ui,sans-serif" font-size="11" fill="#737373" text-anchor="middle">CI baseline</text><rect x="0" y="280" width="840" height="80" fill="url(#pb2)"/></svg>`

function toDataUrl(svg: string): string {
  return `data:image/svg+xml;charset=utf-8,${encodeURIComponent(svg)}`
}

/** Data URLs for note hero SVGs — no network request, always loads */
export const noteHeroDataUrls: Record<string, string> = {
  "/note-images/token-refresh.svg": toDataUrl(TOKEN_REFRESH_SVG),
  "/note-images/offline-sync.svg": toDataUrl(OFFLINE_SYNC_SVG),
  "/note-images/performance-budgets.svg": toDataUrl(PERFORMANCE_BUDGETS_SVG),
}

export function getNoteHeroDataUrl(src: string): string | undefined {
  return noteHeroDataUrls[src]
}
